# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º —Å —Ñ–æ—Ä–º–∞–º–∏ –¢–∏–ª—å–¥—ã

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º:

### 1. **–ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏**
- Content-Type –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- Origin/Referer –∑–∞–≥–æ–ª–æ–≤–∫–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è
- Host –∑–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

### 2. **–ü—Ä–æ–±–ª–µ–º—ã —Å —Ç–µ–ª–æ–º –∑–∞–ø—Ä–æ—Å–∞**
- –î–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è
- –ö–æ–¥–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è
- –†–∞–∑–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç—ã

### 3. **–ü—Ä–æ–±–ª–µ–º—ã —Å CORS**
- Preflight OPTIONS –∑–∞–ø—Ä–æ—Å—ã –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è
- CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ

## –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
```bash
docker-compose logs -f app
```

–ò—â–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
- `üìù Form submission from IP:`
- `üìã Form data:`
- `‚úÖ Form submitted successfully`
- `‚ùå Form submission error`

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ nginx:
```bash
docker-compose logs -f nginx
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º:
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç
node test-form.js

# –ò–ª–∏ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤—Ä—É—á–Ω—É—é
curl -X POST http://localhost:3000/api/form/test \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "name=Test&email=test@example.com"
```

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
1. –û—Ç–∫—Ä–æ–π—Ç–µ Developer Tools (F12)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É Network
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ä–º—É
4. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã

## –†–µ—à–µ–Ω–∏—è:

### 1. –ï—Å–ª–∏ —Ñ–æ—Ä–º—ã –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ axios —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: `npm install axios`
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `docker-compose restart app`

### 2. –ï—Å–ª–∏ –ø–æ–ª—É—á–∞–µ—Ç–µ 403 –æ—à–∏–±–∫—É:
- IP –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ whitelist
- –ò–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –≤ –∫–æ–¥–µ

### 3. –ï—Å–ª–∏ –ø–æ–ª—É—á–∞–µ—Ç–µ CORS –æ—à–∏–±–∫–∏:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CORS –≤ server.js
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ OPTIONS –∑–∞–ø—Ä–æ—Å—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è

### 4. –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Content-Type –∑–∞–≥–æ–ª–æ–≤–æ–∫
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ middleware –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ñ–æ—Ä–º –¢–∏–ª—å–¥—ã:

–í nginx.conf –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- `client_max_body_size 10M` - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –±–æ–ª—å—à–∏—Ö —Ñ–æ—Ä–º
- `proxy_request_buffering off` - –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–∏
- –ü–µ—Ä–µ–¥–∞—á–∞ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

–í server.js –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:
- Endpoint `/api/form/*` –¥–ª—è —Ñ–æ—Ä–º
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

